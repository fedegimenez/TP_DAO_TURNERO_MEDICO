{% set img1 = "https://images.unsplash.com/photo-1584982751601-97dcc096659c?q=80&w=1200&auto=format&fit=crop" %}
{% set img2 = "https://images.unsplash.com/photo-1582719478250-c89cae4dc85b?q=80&w=1200&auto=format&fit=crop" %}
{% set img3 = "https://images.unsplash.com/photo-1578496781985-8400273b8a3b?q=80&w=1200&auto=format&fit=crop" %}

{% if not slots %}
  <div class="card flex items-center gap-4">
    <img src="{{ img2 }}" alt="Sin resultados" class="w-28 h-20 object-cover rounded-lg border border-slate-200">
    <div>
      <div class="font-semibold text-slate-800">No hay horarios disponibles</div>
      <div class="text-slate-600 text-sm">Probá otra fecha, cambiá la duración o seleccioná otro médico.</div>
    </div>
  </div>
{% else %}
  <div class="grid sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-4">
    {% for s in slots %}
      {% set bg = loop.cycle(img1, img2, img3) %}
      <div class="card-slot">
        <img class="bg" src="{{ bg }}" alt="slot">
        <div class="overlay"></div>
        <div class="body">
          <div class="flex items-center justify-between">
            <span class="chip badge-free">Libre</span>
            <span class="text-[11px] px-2 py-1 rounded-full bg-white/80 border border-slate-200">Duración {{ duracion }} min</span>
          </div>
          <div class="mt-2">
            <div class="text-3xl font-extrabold text-ink">{{ s.inicio }}</div>
            <div class="text-sm text-slate-700">hasta {{ s.fin }}</div>
          </div>
          <div class="mt-3 flex items-center gap-2">
            <button class="btn-cta px-3 py-1.5 rounded-lg text-sm shadow"
                    disabled
                    title="Integraremos reserva (paciente + especialidad) en el siguiente paso">
              Reservar
            </button>
            <span class="text-[11px] px-2 py-1 rounded-full bg-white/80 border border-slate-200">Disponibilidad inmediata</span>
          </div>
        </div>
      </div>
    {% endfor %}
  </div>
{% endif %}
