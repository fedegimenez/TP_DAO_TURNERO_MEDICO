<form hx-post="{{ action }}" hx-target="#patients-table" hx-swap="outerHTML">
  {% if error %}
  <div class="alert-error mb-3">{{ error }}</div>
  {% endif %}
  <h3 class="text-lg font-semibold mb-3">{{ title or 'Paciente' }}</h3>
  <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
    <div>
      <label class="lbl">Nombre</label>
      <input name="nombre" class="input" required value="{{ (values or {}).get('nombre','') }}">
    </div>
    <div>
      <label class="lbl">Apellido</label>
      <input name="apellido" class="input" required value="{{ (values or {}).get('apellido','') }}">
    </div>
    {% if not editing %}
    <div>
      <label class="lbl">DNI</label>
      <input name="dni" class="input" required value="{{ (values or {}).get('dni','') }}">
    </div>
    {% endif %}
    <div>
      <label class="lbl">Fecha de nacimiento</label>
      <input name="fecha_nacimiento" type="date" class="input" required value="{{ (values or {}).get('fecha_nacimiento','') }}">
    </div>
    <div>
      <label class="lbl">Género</label>
      <input name="genero" class="input" value="{{ (values or {}).get('genero','') }}">
    </div>
    <div>
      <label class="lbl">Dirección</label>
      <input name="direccion" class="input" value="{{ (values or {}).get('direccion','') }}">
    </div>
    <div>
      <label class="lbl">Teléfono</label>
      <input name="telefono" class="input" value="{{ (values or {}).get('telefono','') }}">
    </div>
    <div class="md:col-span-2">
      <label class="lbl">Email</label>
      <input name="email" type="email" class="input" value="{{ (values or {}).get('email','') }}">
    </div>
    <div>
      <label class="lbl">Obra social</label>
      <input name="obra_social" class="input" value="{{ (values or {}).get('obra_social','') }}">
    </div>
    <div>
      <label class="lbl">Nro. afiliado</label>
      <input name="nro_afiliado" class="input" value="{{ (values or {}).get('nro_afiliado','') }}">
    </div>
  </div>
  <div class="mt-4 flex justify-between items-center">
    <button type="button" class="btn" onclick="closeModal()">Cancelar</button>
    <button class="btn-primary">Guardar</button>
  </div>
</form>
